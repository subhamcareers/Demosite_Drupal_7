!function(t,a,e,i,n,s){"use strict";function o(t){var e=a.blazy,n=t.getAttribute("data-blazy"),s=n&&"1"!==n?i.parse(n)||{}:{};e.revalidate=e.revalidate||i.hasClass(t,"blazy--revalidate"),i.addClass(t,"blazy--on"),r(t,s)}a.blazy=a.blazy||{init:null,loopRatio:!1,windowWidth:0,blazySettings:{},ioSettings:{},isForced:!1,revalidate:!1,options:{},globals:function(){var t=this,a={success:t.clearing.bind(t),error:t.clearing.bind(t),selector:".b-lazy",errorClass:"b-error",successClass:"b-loaded"};return i.extend(t.blazySettings,t.ioSettings,a)},clearing:function(t){var a=this,e=i.hasClass(t,"b-responsive")&&t.hasAttribute("data-pfsrc"),s=i.closest(t,".media"),o=[t,i.closest(t,".is-loading"),i.closest(t,'[class*="loading"]')];i.forEach(o,function(t){null!==t&&(t.className=t.className.replace(/(\S+)loading/,""))}),n.picturefill&&e&&n.picturefill({reevaluate:!0,elements:[t]}),a.updateContainer(t,s),a.isLoaded(t)&&(a.has(s,"data-animation")||a.has(t,"data-animation"))&&i.animate(a.has(s,"data-animation")?s:t),i.trigger(t,"blazy.done",{options:a.options})},isLoaded:function(t){return null!==t&&i.hasClass(t,this.options.successClass)},has:function(t,a){return null!==t&&t.hasAttribute(a)},updateContainer:function(t,a){var e=this;e.isLoaded(t)&&(i.equal(t.parentNode,"picture")&&e.has(a,"data-dimensions")&&e.updatePicture(t,a),e.has(t,"data-backgrounds")&&i.updateBg(t,e.options.mobileFirst))},updatePicture:function(t,a){a.style.paddingBottom=Math.round(t.naturalHeight/t.naturalWidth*100,2)+"%"},updateRatio:function(t){var a=this,e=i.parse(t.getAttribute("data-dimensions"))||"dimensions"in a.options&&a.options.dimensions;if(!e)return void a.updateFallbackRatio(t);var n=null!==t.querySelector("picture"),s=i.activeWidth(e,n);"undefined"!==s&&(t.style.paddingBottom=s+"%"),(n||a.has(t,"data-backgrounds"))&&a.updateContainer(n?t.querySelector("img"):t,t)},updateFallbackRatio:function(t){!t.hasAttribute("style")&&t.hasAttribute("data-ratio")&&(t.style.paddingBottom=t.getAttribute("data-ratio")+"%")},doNativeLazy:function(t){var a=this;i.setAttrs(t,["srcset","src"],!0),i.setAttrsWithSources(t,!1,!0),i.addClass(t,a.options.successClass),a.clearing(t)},isNativeLazy:function(){return"loading"in HTMLImageElement.prototype},isIo:function(){return this.ioSettings&&this.ioSettings.enabled&&"IntersectionObserver"in n},isBlazy:function(){return!this.isIo()&&"Blazy"in n},forEach:function(t){var a=t.querySelector("[data-blazy]"),e=t.querySelectorAll(".blazy:not(.blazy--on)");e.length>0&&i.forEach(e,o,t),null===a&&r(t)},run:function(t){return this.isIo()?new BioMedia(t):new Blazy(t)},afterInit:function(t){var a=this,e=null===t.querySelector(".media--ratio")?[]:t.querySelectorAll(".media--ratio"),s=function(){a.windowWidth=i.windowWidth(),e.length>0&&i.forEach(e,a.updateRatio.bind(a),t),a.isNativeLazy()||!a.isBlazy()&&!a.revalidate||a.init.revalidate(!0)};s(),n.addEventListener("resize",i.throttle(s,200,a),!1)}};var r=function(t,e){var n=a.blazy,o=t instanceof HTMLDocument?t:i.closest(t,"html");if(e=e||{},e.mobileFirst=e.mobileFirst||!1,s.documentElement.isSameNode(o)||(e.root=o),n.options=i.extend({},n.globals(),e),n.isNativeLazy()||n.isForced){var r=t.querySelectorAll(n.options.selector+"[loading]:not(."+n.options.successClass+")");r.length>0&&i.forEach(r,n.doNativeLazy.bind(n))}n.init=n.run(n.options),n.afterInit(t)};a.behaviors.blazy={attach:function(t){"length"in(t=t||s)&&(t=t[0]);var n=a.blazy;n.blazySettings=e.blazy||{},n.ioSettings=e.blazyIo||{},i.once(n.forEach(t))}}}(jQuery,Drupal,Drupal.settings,dBlazy,this,this.document);
